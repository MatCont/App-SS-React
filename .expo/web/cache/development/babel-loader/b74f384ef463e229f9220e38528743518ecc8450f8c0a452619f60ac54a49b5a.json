{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport dataComunaEstablecimiento from \"../../consts/dataComunaEstablecimiento\";\nimport dataEstablecimientos from \"../../consts/dataEstablecimientos\";\nimport dataTipoEstablecimiento from \"../../consts/dataTipoEstablecimiento\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EstablecimientosPicker = function EstablecimientosPicker() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    comunaId = _useState2[0],\n    setComunaId = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    comunaIdAnterior = _useState4[0],\n    setComunaIdAnterior = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    nombreComuna = _useState6[0],\n    setNombreComuna = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    tipoId = _useState8[0],\n    setTipoId = _useState8[1];\n  var _useState9 = useState(''),\n    _useState10 = _slicedToArray(_useState9, 2),\n    tipoIdAnterior = _useState10[0],\n    setTipoIdAnterior = _useState10[1];\n  var _useState11 = useState(''),\n    _useState12 = _slicedToArray(_useState11, 2),\n    nombreTipo = _useState12[0],\n    setNombreTipo = _useState12[1];\n  var _useState13 = useState(''),\n    _useState14 = _slicedToArray(_useState13, 2),\n    establecimientoId = _useState14[0],\n    setEstablecimientoId = _useState14[1];\n  var _useState15 = useState([]),\n    _useState16 = _slicedToArray(_useState15, 2),\n    establecimientos = _useState16[0],\n    setEstablecimientos = _useState16[1];\n  useEffect(function () {\n    var nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\n    setEstablecimientos(nuevosEstablecimientos);\n  }, [comunaId, tipoId]);\n  var getEstablecimientosPorComunaYTipo = function getEstablecimientosPorComunaYTipo(comunaId, tipoId) {\n    var establecimientosFiltrados = dataEstablecimientos.filter(function (establecimiento) {\n      return establecimiento.idComuna === comunaId && establecimiento.idTipo === tipoId;\n    });\n    var nombresEstablecimientos = establecimientosFiltrados.map(function (establecimiento) {\n      return establecimiento.nombre;\n    });\n    setEstablecimientoId('');\n    return nombresEstablecimientos;\n  };\n  var handleComunaChange = function handleComunaChange(comunaId) {\n    setComunaId(comunaId);\n    var comuna = dataComunaEstablecimiento.find(function (c) {\n      return c.id === comunaId;\n    });\n    setNombreComuna(comuna ? comuna.name : '');\n    var nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\n    setEstablecimientos(nuevosEstablecimientos);\n  };\n  var handleTipoChange = function handleTipoChange(tipoId) {\n    setTipoId(tipoId);\n    var tipo = dataTipoEstablecimiento.find(function (t) {\n      return t.id === tipoId;\n    });\n    setNombreTipo(tipo ? tipo.nombre : '');\n    var nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\n    setEstablecimientos(nuevosEstablecimientos);\n  };\n  var handleEstablecimientoChange = function handleEstablecimientoChange(establecimientoId) {\n    setEstablecimientoId(establecimientoId);\n  };\n  return _jsxs(View, {\n    children: [_jsxs(Picker, {\n      selectedValue: comunaId,\n      onValueChange: handleComunaChange,\n      children: [_jsx(Picker.Item, {\n        label: \"Seleccione una comuna\",\n        value: \"\"\n      }), dataComunaEstablecimiento.map(function (comuna) {\n        return _jsx(Picker.Item, {\n          label: comuna.name,\n          value: comuna.id\n        }, comuna.id);\n      })]\n    }), _jsxs(Picker, {\n      selectedValue: tipoId,\n      onValueChange: handleTipoChange,\n      children: [_jsx(Picker.Item, {\n        label: \"Seleccione un tipo de establecimiento\",\n        value: \"\"\n      }), dataTipoEstablecimiento.map(function (tipo) {\n        return _jsx(Picker.Item, {\n          label: tipo.nombre,\n          value: tipo.id\n        }, tipo.id);\n      })]\n    }), _jsxs(Picker, {\n      selectedValue: establecimientoId,\n      onValueChange: handleEstablecimientoChange,\n      children: [_jsx(Picker.Item, {\n        label: \"Seleccione un establecimiento\",\n        value: \"\"\n      }), establecimientos.map(function (nombre, index) {\n        return _jsx(Picker.Item, {\n          label: nombre,\n          value: nombre\n        }, index);\n      })]\n    }), _jsxs(Text, {\n      children: [\"comunaId: \", nombreComuna]\n    }), _jsxs(Text, {\n      children: [\"tipoId: \", nombreTipo]\n    }), _jsxs(Text, {\n      children: [\"establecimientoId: \", establecimientoId]\n    }), _jsxs(Text, {\n      children: [\"establecimientos length: \", establecimientos.length]\n    })]\n  });\n};\nexport default EstablecimientosPicker;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Picker","dataComunaEstablecimiento","dataEstablecimientos","dataTipoEstablecimiento","jsx","_jsx","jsxs","_jsxs","EstablecimientosPicker","_useState","_useState2","_slicedToArray","comunaId","setComunaId","_useState3","_useState4","comunaIdAnterior","setComunaIdAnterior","_useState5","_useState6","nombreComuna","setNombreComuna","_useState7","_useState8","tipoId","setTipoId","_useState9","_useState10","tipoIdAnterior","setTipoIdAnterior","_useState11","_useState12","nombreTipo","setNombreTipo","_useState13","_useState14","establecimientoId","setEstablecimientoId","_useState15","_useState16","establecimientos","setEstablecimientos","nuevosEstablecimientos","getEstablecimientosPorComunaYTipo","establecimientosFiltrados","filter","establecimiento","idComuna","idTipo","nombresEstablecimientos","map","nombre","handleComunaChange","comuna","find","c","id","name","handleTipoChange","tipo","t","handleEstablecimientoChange","children","selectedValue","onValueChange","Item","label","value","index","length"],"sources":["C:/Users/NTK_17/Desktop/Tesis/proyecto-react-js/src/views/screens/EstablecimientosPicker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, Picker } from 'react-native';\r\n\r\nimport dataComunaEstablecimiento from '../../consts/dataComunaEstablecimiento'\r\nimport dataEstablecimientos from '../../consts/dataEstablecimientos'\r\nimport dataTipoEstablecimiento from '../../consts/dataTipoEstablecimiento'\r\n\r\nconst EstablecimientosPicker = () => {\r\n    const [comunaId, setComunaId] = useState('');\r\n    const [comunaIdAnterior, setComunaIdAnterior] = useState('');\r\n    const [nombreComuna, setNombreComuna] = useState('');\r\n    const [tipoId, setTipoId] = useState('');\r\n    const [tipoIdAnterior, setTipoIdAnterior] = useState('');\r\n    const [nombreTipo, setNombreTipo] = useState('');\r\n    const [establecimientoId, setEstablecimientoId] = useState('');\r\n    const [establecimientos, setEstablecimientos] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\r\n        setEstablecimientos(nuevosEstablecimientos);\r\n    }, [comunaId, tipoId]);\r\n\r\n    const getEstablecimientosPorComunaYTipo = (comunaId, tipoId) => {\r\n        const establecimientosFiltrados = dataEstablecimientos.filter(\r\n            establecimiento => establecimiento.idComuna === comunaId && establecimiento.idTipo === tipoId\r\n        );\r\n        const nombresEstablecimientos = establecimientosFiltrados.map(\r\n            establecimiento => establecimiento.nombre\r\n        );\r\n        setEstablecimientoId('');\r\n        return nombresEstablecimientos;\r\n    };\r\n\r\n    const handleComunaChange = comunaId => {\r\n        setComunaId(comunaId);\r\n        const comuna = dataComunaEstablecimiento.find(c => c.id === comunaId);\r\n        setNombreComuna(comuna ? comuna.name : '');\r\n        const nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\r\n        setEstablecimientos(nuevosEstablecimientos);\r\n    };\r\n\r\n    const handleTipoChange = tipoId => {\r\n        setTipoId(tipoId);\r\n        const tipo = dataTipoEstablecimiento.find(t => t.id === tipoId);\r\n        setNombreTipo(tipo ? tipo.nombre : '');\r\n        const nuevosEstablecimientos = getEstablecimientosPorComunaYTipo(comunaId, tipoId);\r\n        setEstablecimientos(nuevosEstablecimientos);\r\n    };\r\n\r\n    const handleEstablecimientoChange = establecimientoId => {\r\n        setEstablecimientoId(establecimientoId);\r\n    }\r\n\r\n    return (\r\n        <View>\r\n            <Picker\r\n                selectedValue={comunaId}\r\n                onValueChange={handleComunaChange}\r\n            >\r\n                <Picker.Item label=\"Seleccione una comuna\" value=\"\" />\r\n                {dataComunaEstablecimiento.map(comuna => (\r\n                    <Picker.Item key={comuna.id} label={comuna.name} value={comuna.id} />\r\n                ))}\r\n            </Picker>\r\n            <Picker\r\n                selectedValue={tipoId}\r\n                onValueChange={handleTipoChange}\r\n            >\r\n                <Picker.Item label=\"Seleccione un tipo de establecimiento\" value=\"\" />\r\n                {dataTipoEstablecimiento.map(tipo => (\r\n                    <Picker.Item key={tipo.id} label={tipo.nombre} value={tipo.id} />\r\n                ))}\r\n            </Picker>\r\n            <Picker\r\n                selectedValue={establecimientoId}\r\n                onValueChange={handleEstablecimientoChange}\r\n            >\r\n                <Picker.Item label=\"Seleccione un establecimiento\" value=\"\" />\r\n                {establecimientos.map((nombre, index) => (\r\n                    <Picker.Item key={index} label={nombre} value={nombre} />\r\n                ))}\r\n            </Picker>\r\n            <Text>comunaId: {nombreComuna}</Text>\r\n            <Text>tipoId: {nombreTipo}</Text>\r\n            <Text>establecimientoId: {establecimientoId}</Text>\r\n            <Text>establecimientos length: {establecimientos.length}</Text>\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default EstablecimientosPicker;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}